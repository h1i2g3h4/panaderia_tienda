<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Catálogo - Fernanda Monsalve Bakery</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <img src="img/logo.png" alt="Logo Panadería" class="logo">
    <h1>Catálogo</h1>
    <nav>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="catalogo.html">Catálogo</a></li>
        <li><a href="carrito.html">Carrito</a></li>
        <li><a href="cotizacion.html">Cotización</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div id="productos" class="grid"></div>
  </main>

  <footer>
    <p>&copy; 2025 Fernanda Monsalve Bakery</p>
  </footer>

  <script src="js/carrito.js"></script>
<!-- al final del body de catalogo.html -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabaseClient.js"></script>
<script>
  async function cargarCatalogo() {
    const cont = document.getElementById("productos");
    cont.innerHTML = "Cargando...";
    const { data, error } = await sb.from('productos')
      .select('*')
      .eq('activo', true)
      .order('id', { ascending: true });

    if (error) { cont.textContent = error.message; return; }

    cont.innerHTML = data.map(p => `
      <div class="producto">
        <img src="${p.imagen || 'img/producto1.jpg'}" alt="${p.nombre}">
        <h3>${p.nombre}</h3>
        <p>$${Number(p.precio).toLocaleString()}</p>
        <button onclick="agregarAlCarrito(${p.id})">Agregar</button>
      </div>
    `).join('');
  }
  cargarCatalogo();
</script>
<script src="js/carrito.js"></script>
</body>
</html>
