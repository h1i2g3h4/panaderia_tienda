<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cat치logo - Fernanda Monsalve Bakery</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <img src="img/logo.png" alt="Logo Panader칤a" class="logo">
    <h1>Cat치logo</h1>
    <nav>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="catalogo.html">Cat치logo</a></li>
        <li><a href="carrito.html">Carrito</a></li>
        <li><a href="cotizacion.html">Cotizaci칩n</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- 游녢 SIN class="grid" -->
    <div id="productos"></div>
  </main>

  <footer>
    <p>&copy; 2025 Fernanda Monsalve Bakery</p>
  </footer>

  <!-- Scripts -->
  <script src="js/carrito.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/supabaseClient.js"></script>
  <script>
    async function cargarCatalogo() {
      const cont = document.getElementById("productos");
      cont.textContent = "Cargando...";
      const { data, error } = await sb.from('productos')
        .select('*')
        .eq('activo', true)
        .order('id', { ascending: true });

      if (error) { cont.textContent = error.message; return; }

      cont.innerHTML = data.map(p => `
        <div class="producto">
          <img src="${p.imagen || 'img/producto1.jpg'}" alt="${p.nombre}">
          <h3>${p.nombre}</h3>
          <p>$${Number(p.precio).toLocaleString()}</p>
          <button onclick="agregarAlCarrito(${p.id})">Agregar</button>
        </div>
      `).join('');
    }
    cargarCatalogo();
  </script>
</body>
</html>
